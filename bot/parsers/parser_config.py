# parser_config.py
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–≥—Ä
"""

SHMALALA_CONFIG = {
    'patterns': {
        'battle_win': [
            r'–ü–æ–±–µ–¥–∏–ª\(–∞\) (.+?) –∏ –∑–∞–±—Ä–∞–ª\(–∞\) (\d+) üí∞ –º–æ–Ω–µ—Ç–∫–∏',
            r'(.+?) –ø–æ–±–µ–¥–∏–ª\(–∞\) –≤ –¥—É—ç–ª–∏ –∏ –ø–æ–ª—É—á–∏–ª\(–∞\) (\d+) –º–æ–Ω–µ—Ç',
            r'(.+?) –≤—ã–∏–≥—Ä–∞–ª\(–∞\) –±–∏—Ç–≤—É –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª\(–∞\) (\d+) üí∞'
        ],
        'battle_participate': [
            r'–£—á–∞—Å—Ç–≤–æ–≤–∞–ª\(–∞\) (.+?) –∏ –ø–æ–ª—É—á–∏–ª\(–∞\) (\d+) üí∞ –º–æ–Ω–µ—Ç–∫–∏',
            r'(.+?) —É—á–∞—Å—Ç–≤–æ–≤–∞–ª\(–∞\) –≤ –±–∏—Ç–≤–µ –∏ –ø–æ–ª—É—á–∏–ª\(–∞\) (\d+) –º–æ–Ω–µ—Ç'
        ],
        'crocodile_win': [
            r'üíµ –ü—Ä–∏–∑ –∑–∞ –ø–æ–±–µ–¥—É \+(\d+) –º–æ–Ω–µ—Ç–∞ üíµ',
            r'–ü–æ–±–µ–¥–∞ –≤ –∫—Ä–æ–∫–æ–¥–∏–ª–µ! –ù–∞–≥—Ä–∞–¥–∞: (\d+) –º–æ–Ω–µ—Ç'
        ],
        'crocodile_word': [
            r'^(.+?):\s*\n(.+)$',
            r'(.+?) –∑–∞–≥–∞–¥–∞–ª\(–∞\) —Å–ª–æ–≤–æ: (.+)'
        ],
        'fishing': [
            r'–†—ã–±–∞–∫: (.+?)\n.*?–ú–æ–Ω–µ—Ç—ã: \+(\d+) \(\d+\)üí∞',
            r'(.+?) –ø–æ–π–º–∞–ª\(–∞\) —Ä—ã–±—É –Ω–∞ (\d+) –º–æ–Ω–µ—Ç'
        ],
        'trap': [
            r'ü¶û \[–õ–æ–≤—É—à–∫–∞\].*?–ú–æ–Ω–µ—Ç—ã: \+(\d+) \(\d+\)üí∞',
            r'–õ–æ–≤—É—à–∫–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞! (.+?) –ø–æ–ª—É—á–∞–µ—Ç (\d+) –º–æ–Ω–µ—Ç'
        ],
        'daily_bonus': [
            r'–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å: \+(\d+) –º–æ–Ω–µ—Ç',
            r'–ë–æ–Ω—É—Å –∑–∞ –≤—Ö–æ–¥: (\d+) üí∞'
        ],
        'level_up': [
            r'(.+?) –¥–æ—Å—Ç–∏–≥\(–ª–∞\) —É—Ä–æ–≤–Ω—è (\d+)! –ù–∞–≥—Ä–∞–¥–∞: (\d+) –º–æ–Ω–µ—Ç',
            r'–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! (.+?) –ø–æ–ª—É—á–∏–ª\(–∞\) (\d+) –º–æ–Ω–µ—Ç –∑–∞ —É—Ä–æ–≤–µ–Ω—å'
        ]
    },
    'multipliers': {
        'battle_win': 1.0,
        'battle_participate': 0.5,
        'crocodile_win': 1.2,
        'crocodile_participate': 0.3,
        'fishing': 0.8,
        'trap': 0.7,
        'daily_bonus': 1.0,
        'level_up': 1.5
    }
}

GD_CARDS_CONFIG = {
    'patterns': {
        'new_card': [
            r'–ò–≥—Ä–æ–∫: (.+?)\n.*?–û—á–∫–∏: \+(\d+)',
            r'–ù–û–í–ê–Ø –ö–ê–†–¢–ê!\n–ò–≥—Ä–æ–∫: (.+?)\n.*?–û—á–∫–∏: \+(\d+)',
            r'(.+?) –ø–æ–ª—É—á–∏–ª\(–∞\) –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É! –û—á–∫–∏: \+(\d+)'
        ],
        'card_upgrade': [
            r'(.+?) —É–ª—É—á—à–∏–ª\(–∞\) –∫–∞—Ä—Ç—É! –û—á–∫–∏: \+(\d+)',
            r'–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã: (.+?) –ø–æ–ª—É—á–∞–µ—Ç \+(\d+) –æ—á–∫–æ–≤'
        ],
        'collection_bonus': [
            r'(.+?) —Å–æ–±—Ä–∞–ª\(–∞\) –∫–æ–ª–ª–µ–∫—Ü–∏—é! –ë–æ–Ω—É—Å: (\d+) –æ—á–∫–æ–≤',
            r'–ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! (.+?) –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω\(–∞\) (\d+) –æ—á–∫–∞–º–∏'
        ]
    },
    'rarity_multipliers': {
        'common': 1.0,
        'rare': 1.5,
        'epic': 2.0,
        'legendary': 3.0,
        'mythical': 5.0
    }
}

TRUE_MAFIA_CONFIG = {
    'patterns': {
        'game_win': [
            r'–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!.*?–ü–æ–±–µ–¥–∏–ª[–∞–∏]? (.+?)\n',
            r'–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: (.+?)\n.*?–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞',
            r'(.+?) –ø–æ–±–µ–∂–¥–∞–µ—Ç –≤ –º–∞—Ñ–∏–∏!'
        ],
        'best_player': [
            r'–õ—É—á—à–∏–π –∏–≥—Ä–æ–∫: (.+?) –Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç—Å—è (\d+) –æ—á–∫–∞–º–∏',
            r'(.+?) –ø—Ä–∏–∑–Ω–∞–Ω\(–∞\) –ª—É—á—à–∏–º –∏–≥—Ä–æ–∫–æ–º! –ù–∞–≥—Ä–∞–¥–∞: (\d+)'
        ],
        'role_bonus': [
            r'(.+?) –∫–∞–∫ (.+?) –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å (\d+) –æ—á–∫–æ–≤',
            r'–ë–æ–Ω—É—Å –∑–∞ —Ä–æ–ª—å: (.+?) \+(\d+)'
        ]
    },
    'role_bonuses': {
        'mafia': 20,
        'don': 25,
        'sheriff': 15,
        'civilian': 10,
        'doctor': 15
    }
}

BUNKERRP_CONFIG = {
    'patterns': {
        'bunker_survival': [
            r'–ü—Ä–æ—à–ª–∏ –≤ –±—É–Ω–∫–µ—Ä:\n(.+?)(?:\n\n|$)',
            r'–í—ã–∂–∏–ª–∏ –≤ –±—É–Ω–∫–µ—Ä–µ:\n(.+?)(?:\n\n|$)',
            r'–°–ø–∏—Å–æ–∫ –≤—ã–∂–∏–≤—à–∏—Ö:\n(.+?)(?:\n\n|$)'
        ],
        'role_action': [
            r'(.+?) –∫–∞–∫ (.+?) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç (\d+) –æ—á–∫–æ–≤',
            r'–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! (.+?) –ø–æ–ª—É—á–∞–µ—Ç (\d+) –æ—á–∫–æ–≤'
        ],
        'game_completion': [
            r'–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—ã–∂–∏–≤—à–∏–µ: (.+?)\n.*?–ù–∞–≥—Ä–∞–¥–∞: (\d+)',
            r'–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä—ã: (.+?) –ø–æ–ª—É—á–∞—é—Ç –ø–æ (\d+) –æ—á–∫–æ–≤'
        ]
    }
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
PARSER_SETTINGS = {
    'enable_cache': True,
    'cache_duration_minutes': 30,
    'max_username_length': 50,
    'min_points_threshold': 1,
    'max_points_threshold': 10000,
    'confidence_threshold': 0.6,
    'enable_fuzzy_matching': True,
    'fuzzy_threshold': 0.8,
    'log_parsing_errors': True,
    'save_unparsed_messages': False,
    'validation_rules': {
        'check_duplicates': True,
        'duplicate_window_minutes': 5,
        'validate_points_range': True,
        'sanitize_usernames': True
    }
}